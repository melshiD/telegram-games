<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Game Template</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://unpkg.com/vue@3"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background: var(--tg-theme-bg-color, #ffffff);
            color: var(--tg-theme-text-color, #000000);
            padding: 20px;
            touch-action: manipulation;
        }
        #app {
            max-width: 500px;
            margin: 0 auto;
        }
        button {
            min-width: 44px;
            min-height: 44px;
            padding: 12px 24px;
            font-size: 18px;
            font-weight: 600;
            border: none;
            border-radius: 12px;
            background: var(--tg-theme-button-color, #3390ec);
            color: var(--tg-theme-button-text-color, #ffffff);
            cursor: pointer;
            transition: all 150ms ease;
        }
        button:active {
            transform: scale(0.95);
        }
    </style>
</head>
<body>
    <div id="app">
        <h1>{{ gameTitle }}</h1>
        <div class="score">Score: {{ displayScore }}</div>
        <button @click="handleAction">Click Me</button>
    </div>
    
    <script>
        const { createApp, ref, computed, onMounted } = Vue;
        const tg = window.Telegram.WebApp;
        
        createApp({
            setup() {
                // State
                const gameTitle = ref('Game Template');
                const score = ref(0);
                
                // Computed
                const displayScore = computed(() => score.value.toLocaleString());
                
                // Methods
                function handleAction() {
                    tg.HapticFeedback.impactOccurred('medium');
                    score.value++;
                    saveGame();
                }
                
                function saveGame() {
                    const state = { score: score.value, timestamp: Date.now() };
                    localStorage.setItem('game-template', JSON.stringify(state));
                }
                
                function loadGame() {
                    const saved = localStorage.getItem('game-template');
                    if (saved) {
                        const state = JSON.parse(saved);
                        score.value = state.score;
                    }
                }
                
                // Lifecycle
                onMounted(() => {
                    tg.ready();
                    tg.expand();
                    loadGame();
                });
                
                return { gameTitle, score, displayScore, handleAction };
            }
        }).mount('#app');
    </script>
</body>
</html>
